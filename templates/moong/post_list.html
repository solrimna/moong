<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëª¨ì„ ëª©ë¡</title>
    <style>
    </style>
</head>

<body>
    <div class="header">
        <h1>post list ìƒì„±</h1>
            <a href="{% url 'moong:post_add' %}" class="btn">ëª¨ì„ ë§Œë“¤ê¸°</a>
    </div>
    
    {% if posts %}
        <div class="post-grid">
            {% for post in posts %}
                <div class="post-card">
                    <h3>
                        <a href="{% url 'moong:post_detail' post.id %}">
                            {{ post.title }}
                        </a>
                    </h3>
                    
                    <div class="post-content">
                        {{ post.content|truncatewords:20 }}
                    </div>
                    {% if post.get_main_image %}
                        <img src="{{ post.get_main_image.image.url }}" alt="{{ post.title }}" style="width: 100%; height: 200px; object-fit: cover; border-radius: 8px 8px 0 0;">
                    {% endif %}
                    <div class="post-meta">
                        <div>ğŸ“… {{ post.moim_date }} {{ post.moim_time }}</div>
                        <div>
                            ğŸ“ 
                            {% if post.location %}
                                {{ post.location.sido }} {{ post.location.sigungu }} {{ post.location.eupmyeondong }}
                            {% else %}
                                ì¥ì†Œ ë¯¸ì •
                            {% endif %}
                        </div>
                        <div>ğŸ‘¤ {{ post.author.username }}</div>
                        {% if post.max_people %}
                            <div>ğŸ‘¥ ìµœëŒ€ {{ post.max_people }}ëª…</div>
                        {% endif %}
                        <div style="margin-top: 10px; color: #bbb; font-size: 12px;">
                            {{ post.create_time|timesince }} ì „
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    {% else %}
        <p>ì•„ì§ ëª¨ì„ì´ ì—†ìŠµë‹ˆë‹¤.</p> 
    {% endif %}
</body>
</html>